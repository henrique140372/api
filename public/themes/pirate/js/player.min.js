"use strict";const GCaptcha={token:null,isEnabled:function(){return"undefined"!=typeof grecaptcha},reload:function(){grecaptcha.reset(),grecaptcha.execute()},getToken:function(){return this.token},setToken:function(e){this.token=e}},Player={id:null,name:"VIP Embed Player Nulled By HauN",version:"1.3",author:"John Antonio",isInit:!1,isPlayed:!1,linkToken:null,playedToken:null,node:null,servers:{activeId:null,node:null,group:null,init:function(){let e=this;e.group="#"+$(".active-server-group .name").text()+"-servers",e.node=$(e.group)},update:function(e){let t=this,n=e.attr("data-id");t.activeId=n;let o='.server[data-id="'+n+'"]',r=t.node.find(o).text().trim();t.node.find(".active-server .name").text(r),halfmoon.deactivateAllDropdownToggles()},get:function(){let e=this;return null===e.activeId&&(e.activeId=e.node.find(".server").first().attr("data-id")),e.activeId}},init:function(){let e=this;e.isInit||(e.setAuthorCredit(),e.node=$("#embed-player"),e.servers.init(),e.setPlayerId(),e.isInit=!0)},play:function(e=!1,t=null){let n=this;if(n.loading(),null!==t&&n.servers.update($(t)),GCaptcha.isEnabled()&&!e)return void GCaptcha.reload();let o=n.getLink();null!==o?(n.loadFrame(o),n.isPlayed||setTimeout((function(){n.played()}),1e4)):n.loaded(),n.isPlayed||(n.isPlayed=!0)},changeGroup:function(e){let t="#"+$(e).attr("data-id")+"-servers";$(t).length>0&&($(".servers").hide(),this.servers.node=$(t),$(t).find(".server").first().click(),$(t).show())},getLink:function(){let e=this,t=null;return $.ajax({url:BASE_URL+"ajax/get_stream_link",type:"GET",headers:{"X-Requested-With":"XMLHttpRequest"},data:{id:e.servers.get(),movie:e.id,is_init:e.isPlayed,captcha:GCaptcha.getToken(),ref:e.getRef()},dataType:"JSON",async:!1,success:function(n){n.success?(t=n.data.link,e.linkToken=n.data.token,e.isPlayed||(e.playedToken=n.data._played)):"error"in n&&e.errorOccurred(n.error)},error:function(t,n,o){setTimeout((function(){e.errorOccurred(o)}),1e3)}}),t},played:function(){$.ajax({url:BASE_URL+"ajax/played",type:"GET",headers:{"X-Requested-With":"XMLHttpRequest"},data:{token:this.playedToken},dataType:"JSON"})},loading:function(){this.node.find(".cover, .play-btn, .frame, .error").hide(),this.node.find(".loader").css("display","flex")},loaded:function(){let e=this;setTimeout((function(){e.node.find(".loader").fadeOut(1500),e.node.find(".frame").fadeIn(100)}),1500)},loadFrame:function(e){this.node.find("iframe").prop("src",e)},setPlayerId:function(){let e=this;null===e.id&&(e.id=e.node.attr("data-movie-id"))},setAuthorCredit:function(){console.clear(),console.log("%c! "+this.name,"color:#ff0000;font-family:system-ui;font-size:1rem;font-weight:bold"),console.log("Telegram : t.me/haunytb || Version - "+this.version),console.log("Nulled By - HauN")},getRef:function(){let e="",t=[];return location.search.substr(1).split("&").forEach((function(n){t=n.split("="),"ref"===t[0]&&(e=decodeURIComponent(t[1]))})),e},errorOccurred:function(e){this.node.find(".error .msg").text(e),this.node.find(".error").css("display","flex")},bind:function(e,t,n="click"){var o;$(document).on(n,e,(o=this,function(e){return o[t].apply(o,arguments)}))}};$(document).ready((function(){Player.init(),window.set_captcha_response=function(e){GCaptcha.setToken(e),Player.play(!0)},$(".toggle-top-bar").on("click",(function(){$("#embed-player .top-bar").toggle(),$("#embed-player .toggle-btn-short").toggle()})),$("#embed-player iframe").on("load",(function(){void 0!==$(this).attr("src")&&Player.loaded()})),$("#report-st-link").on("click",(function(){if(null!==Player.linkToken){let e=$(this).closest("form").serialize();e+="&token="+Player.linkToken,$.ajax({url:BASE_URL+"ajax/report_stream_link",type:"GET",headers:{"X-Requested-With":"XMLHttpRequest"},data:e,dataType:"JSON",async:!1,success:function(e){e.success?alert("reported","alert-success"):"error"in e&&alert(e.error,"alert-danger")},error:function(e,t,n){setTimeout((function(){alert(n,"alert-danger")}),1e3)}})}else halfmoon.initStickyAlert({title:"Try to play video",alertType:"alert-secondary",hasDismissButton:!1,timeShown:1500}),halfmoon.deactivateAllDropdownToggles()})),AUTOPLAY&&Player.play()}));